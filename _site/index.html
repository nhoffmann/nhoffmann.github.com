<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>  Zentralmaschine |  zentralmaschine.net </title>
  <link rel="stylesheet" href="/assets/css/bootstrap.css" />
  <link rel="stylesheet" href="/assets/css/style.css" />
</head>
<body>
 
  <header class="content">
    <h1><a href="/">Zentralmaschine</a></h1>
  </header>

  <div id="main">
    <nav role="navigation">
    </nav>
 
    <div class="content">
      <article>
  <section>
    
      <article>
        <section>
          <h1><a href="/2012/08/23/announcing-fandango.html">Announcing Fandango</a></h1>
          <small>2012-08-23</small>
          <p>Zentralmaschine in collaboration with <a href='http://pipapo.co'>pipapo.co</a> just released a new tool on the interwebs for your pleasure only.</p>

<p><a href='http://fandangocast.com'>Fandango</a></p>

<h2 id='what_does_it_do'>What does it do?</h2>

<p>Fandango creates podcasts from your <a href='http://soundcloud.com'>Soundcloud</a> followings.</p>

<p>But let me give you a little bit of background, because like most app ideas, Fandango was born out of a personal need. I was heading out of my appartement and was lacking fresh music on my mp3 player. As a matter of fact I really dig Soundcloud. There is always something new and fresh to explore there. I opened up Soundcloud to look for new music and the people I follow would be the first i would want to check out. Everything was there, new tracks, new DJ mixes but how to get them on the smartphone?</p>

<p>I was basically looking for some kind of method to get these tracks on my mp3 player and eventually that would update itself and automatically sync with my mp3 player whenever there was something new to discover.</p>

<p>I realized that all I was looking for, is <strong>a podcast containing all my Soundcloud followings</strong>!</p>

<p>Interestingly, Soundcloud does not offer this feature and Fandango came to life. Simply connect with your Soundcloud account and let <a href='http://fandangocast.com'>Fandango</a> do the magic. I bet you&#8217;ll love it!</p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/06/03/jplayer-interface-haml-markup.html">JPlayer Interface Haml Markup</a></h1>
          <small>2012-06-03</small>
          <p>This is the second time I needed to include <a href='http://jplayer.org'>jPlayer</a> in a <a href='http://haml.info/'>HAML</a> based project. The jPlayer documentation comes with <a href='http://jplayer.org/latest/quick-start-guide/step-6-audio'>vanilla HTML examples</a> and we have to convert them.</p>

<p>Of course, there is a nifty tool that does exactly that for you:</p>

<p><a href='http://html2haml.heroku.com/'>html2haml.heroku.com</a></p>

<p>Paste in html and get back haml code. Easy as pie!</p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/05/11/i-am-here-where-are-you.html">I Am Here Where Are You?</a></h1>
          <small>2012-05-11</small>
          <p><a href='http://iahway.meteor.com'>I am here! Where are you?</a> is a super simple web application to share you current location with others.</p>

<p>Works great on smartphones, tablets, laptops or desktop pcs. The only prerequisites is a browser that supports sensing your current location. Try it out for yourself:</p>

<p><strong><a href='http://iahway.meteor.com'>iahway.meteor.com</a></strong></p>

<h2 id='need_help'>Need help?</h2>

<p>Hahaha, you&#8217;re kidding! It&#8217;s so easy that even your parents will get it. But ok, let me give you the chatty advise: When you open up <a href='http://iahway.meteor.com'>I am here! Where are you?</a> you will be greeted with a dialog that asks for your name. It does not have to be your real name. Once you entered the name and clicked on the &#8220;Create a new map!&#8221; button you have created a new map. Now share the link to this map with whomever you like. Either by copying the address from the browsers address bar or by clicking on &#8220;Actions&#8221; and selecting the &#8220;Send map&#8221; option. That&#8217;s it! The person who receives the link will be greeted with a similar screen, but instead of creating a new map, she is asked to join you map. After entering a name, her current location will be marked on the map, just like yours. And on the top bar you can immediately switch between all the people on the map. Now you can see where everybody is. Actually everybody on the map can see where everybody else is. Of course you can leave the map anytime by clicking the &#8220;Leave map&#8221; button from the &#8220;Actions&#8221; menu and no one will know your location anymore.</p>

<h2 id='ah_i_see_this_is_like_fourshmare_lalatude_fiercebook_places_or_'>Ah I see, this is like fourshmare, lalatude, fiercebook places or &#8230;</h2>

<p>Ehm, no it is not. Did anybody ask you for an email address? A username? A password? No! So this is sharing your location anonymously with no one but the other people on the map tracking your location. Privacy by design!</p>

<p><strong>If you like the app, please consider voting for it on <a href='http://madewith.meteor.com/iahwa'>madewith.meteor.com</a>. Thanks a lot!</strong></p>

<h2 id='great_where_can_i_find_out_more_about_this'>Great where can I find out more about this</h2>

<p>Basically this whole thing is an experiment and some toying around with a new technology stack called <a href='http://meteor.com'>meteor</a>. You can find the full source code on <a href='https://github.com/nhoffmann/iahway'>github</a>.</p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/04/03/deploy-everything-with-capistrano.html">Deploy Everything With Capistrano</a></h1>
          <small>2012-04-03</small>
          <p><a href='http://capify.org/'>Capistrano</a> is great! It is so great that you should use it for deploying your non rails/sinatra projects.</p>

<p>Here is a gist to get you started: <script src='https://gist.github.com/2292275.js?file=deploy.rb'>//</script></p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/03/13/debugging-flash-player.html">Debugging Flashplayer</a></h1>
          <small>2012-03-13</small>
          <p>Folks who do Actionscript 3 development on a daily basis probably know this. Probably everybody knows this except me. There is a debug version of the Adobe Flash Player:</p>

<p><a href='http://www.adobe.com/support/flashplayer/downloads.html'>http://www.adobe.com/support/flashplayer/downloads.html</a></p>

<p>It can be configured like so:</p>

<p><a href='http://kb2.adobe.com/cps/403/kb403009.html'>http://kb2.adobe.com/cps/403/kb403009.html</a></p>

<p>Also note that the debug version will not be used within Google&#8217;s Chrome.</p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/02/25/create-a-random-string-in-ruby.html">Create a Random String in Ruby</a></h1>
          <small>2012-02-25</small>
          <p>Not the hardest of tasks, but nevertheless a discussed one: Creating random strings in ruby. And that would be base62 encoded strings, so that they can be used in URLs.</p>

<p>So what to do? Using <a href='http://stackoverflow.com/a/88341/310497'>this solution</a>? Not random enough.</p>

<p>What about the solutions described in <a href='http://blog.logeek.fr/2009/7/2/creating-small-unique-tokens-in-ruby'>this blog post</a>? Promising. And I like the ActiveSupport::SecureRandom method best.</p>

<p>But since ruby1.9 we have SecureRandom natively and want to use that. Also simply removing the characters that do not fit in base62 will produce strings of differing length and we don&#8217;t want that. What to do?</p>

<p>Mashup!</p>

<pre><code>SecureRandom.base64(6).gsub(/[$=+\/]/,65.+(rand(25)).chr)</code></pre>

<p>ProTip: play around with the base64 parameter to change the length of the generated string.</p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/02/24/fixing-invalid-byte-sequence-in-us-ascii-once-and-for-all.html">Fixing Invalid Byte Sequence Once And For All</a></h1>
          <small>2012-02-24</small>
          <p>This was driving me nuts. As everybody knows ruby 1.9+ supports files in different encodings. Unfortunately it defaults to US-ASCII (at least on my machine) and thus breaks with every UTF-8 file that has a character not in the US-ASCII range.</p>

<p>You know what I am talking about when you have seen one of these dreadful warnings:</p>

<pre><code># bundle exec rake build
rake aborted!
invalid byte sequence in US-ASCII</code></pre>

<h2 id='here_are_possible_solutions'>Here are possible solutions</h2>

<p>Use magic comments and set the encoding in the top of each file like so</p>

<pre><code># encoding: UTF-8
umlaut_string = &quot;mlaut strng&quot;
...</code></pre>

<p>or set the encoding at the application level with</p>

<pre><code>Encoding.default_external = Encoding::UTF_8 if RUBY_VERSION &gt; &quot;1.9&quot;</code></pre>

<p>or set the LOCALE to something UTF-8ish</p>

<pre><code>LC_CTYPE=en_US.UTF-8 LANG=en_US.UTF-8 my-ruby-command</code></pre>

<p>or simply set the default encoding for ruby to UTF-8 with</p>

<pre><code># /usr/bin/ruby -Ku</code></pre>

<p>Actually, this is my preferred solution, because I want to have UTF-8 as the default and set it to any other encoding only when needed.</p>

<p>You can make this permanent by including an export statement in your .bashrc or .zshrc</p>

<pre><code>export RUBYOPT=-Ku</code></pre>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/01/16/learning-javascript-with-object-graphs-by-tim-caswell.html">Learning Javascript With Object Graphs By Tim Caswell</a></h1>
          <small>2012-01-16</small>
          <p>I just recently stumbled upon this very valuable series of articles explaining Javacript objects, prototypical inheritance, closures and the like in visually appealing fashion. Tim Caswell uses object graphs to make you grasp the subject and that works extremely well.</p>

<ul>
<li>
<p><a href='http://howtonode.org/object-graphs'>Learning Javascript with Object Graphs I</a></p>
</li>

<li>
<p><a href='http://howtonode.org/object-graphs-2'>Learning Javascript with Object Graphs II</a></p>
</li>

<li>
<p><a href='http://howtonode.org/object-graphs-3'>Learning Javascript with Object Graphs III</a></p>
</li>
</ul>

<p>I found it in this <a href='http://n0tw0rthy.wordpress.com/2012/01/08/from-java-to-node-js/'>blogpost</a> and although there are some more links, the object graph articles seemed to be the most important ones.</p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/01/12/installing-voyage-linux-0-8-on-an-alix-2d2.html">Installing Voyage Linux 0.8 on Alix 2D2</a></h1>
          <small>2012-01-12</small>
          <p>I had this <a href='http://www.pcengines.ch/alix2d2.htm' title='ALIX 2D2'>ALIX 2D2</a> lying around for quite some time. The initial idea was to build a custom router/wlan-accespoint, but I never found the time. Now I at least installed a system and am now able to play around with it. Following are some insights on the process.</p>
<h2>Prerequisites</h2><ul>
	<li>ALIX.2D2</li>
	<li>FlashCard Reader</li>
	<li>FlashCard (choose at least 2 GB, these things are cheap nowadays)</li>
	<li>USB to Serial adapter</li>
	<li>Serial cable</li>
</ul><h2>Voyage Linux</h2>
<p>The Linux distribution of choice is <a href='http://linux.voyage.hk/' title='Voyage Linux'>Voyage Linux</a> (Version 0.8 at the time of writing). Voyage is Debian-based, optimized for embedded systems and especially supports ALIX boards. Voyage Linux comes with a very complete <a href='http://linux.voyage.hk/content/getting-started-v08x' title='Voyage Linux installation instruction'>installation instruction</a>. This post is about some smaller steps that are missing from the instructions and some additional instructions on how to do certain things when on OS X.</p>
<h2>Get a debian system</h2>
<p>As mentioned before, voyage is debian based. So just to make sure you are on the safe side you should get a debian system and run the installer and everything from there. Since I am on OS X I just used a debian VirtualBox and will refer to it as VirtualBox later on.</p>
<h2>Mounting the Flash Card for system installation</h2>
<p>I wrote a separate <a href='http://zentralmaschine.net/index.php/2012/01/accessing-usb-devices-in-virtual-box/' title='Accessing USB Devices in Virtual Box'>post on how to mount a Flash Card in VirtualBox</a>. Make sure the Flash Card Reader is configured correctly and boot up your VirtualBox.</p>
<h2>Installing the system</h2>
<p>Assuming that you are in your VirtualBox, from now on everything is pretty straight forward. Just follow <strong>step 2</strong> from <a href='http://linux.voyage.hk/content/getting-started-v08x' title='Voyage Linux installation instruction'>installation instruction</a>. Configuration of the system is doen with a nifty installer script called <code>voyage.update</code>. But before you start, make sure you have rsync installed. The <code>voyage.update</code> script will try to rsync the files to the installation destination and fail if your VirtualBox does not have rsync installed. Also the installation instructions advise you to format the FlashCard which is not really necessary as this is also integrated into <code>voyage.update</code>.</p>
<h2>Plugin the FlashCard into your Alix and connect via serial console</h2>
<p>After running the <code>voyage.update</code> script you should have a shiny new voyage system on your FlashCard. You can now <code>chroot</code> into it from your VirtualBox and configure the system or install additional software. But let&#8217;s do this on the real device.</p>

<p>First of all you should make sure that your USB-Serial adapter is working properly. I wrote another separate post on <a href='http://zentralmaschine.net/index.php/2012/01/installing-usb-to-serial-adapter/' title='Installing USB to Serial adapter'>getting USB-Serial adapter to work under OS X Lion</a>.</p>

<p>Plug in the FlashCard into the appropriate slot of your Alix board and connect the serial cable. For monitoring the serial port we are using <code>screen</code>:</p>
<pre>$ screen /dev/cu.PL2303-xxxxx 38400</pre>
<p>Now switch on your Alix and start hacking away!</p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/01/10/installing-usb-to-serial-adapter.html">Installing USB to Serial Adapter</a></h1>
          <small>2012-01-10</small>
          <p>Need to access old hardware or hardware that only comes with a serial interface? Well, there is an adapter for that. Only problem: Getting mac drivers for OS X Lion.</p>

<p>Turned out that this is not such a big problem, at least not if your adapter is running on the <a href='http://www.prolific.com.tw/eng/Products.asp?ID=88' title='PL-2303HX USB to Serial Bridge Controller'>Prolific Chipset</a>.</p>

<p>Make sure your adapter is connected to a USB port and open up <code>System Information</code>. Select <code>Hardware -> USB</code> and look for a <code>USB Serial Controller</code>. When selecting it, you should get detailed information on that device. Does it look something like this?</p>
<a href='http://zentralmaschine.net/wp-content/uploads/2012/01/Screen-Shot-2012-01-10-at-12.39.54-AM.png'><img alt='' class='aligncenter size-full wp-image-62' height='162' src='http://zentralmaschine.net/wp-content/uploads/2012/01/Screen-Shot-2012-01-10-at-12.39.54-AM.png' title='USB-Serial Controller' width='429' /></a>
<p>If yes, you can consider yourself lucky. A guy called <a href='http://xbsd.nl/2011/07/pl2303-serial-usb-on-osx-lion.html' title='PL2303 serial usb on osx lion'>./martijn wrote a driver that works under 10.7</a> and another guy called <a href='http://changux.co/osx-installer-to-pl2303-serial-usb-on-osx-lio' title='osx installer for pl2303 serial usb on osx lion'>changux wrote a convenient installer for that same driver</a>.</p>

<p>Enjoy!</p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2012/01/03/accessing-usb-devices-in-virtual-box.html">Accessing USB Device in Virtual Box</a></h1>
          <small>2012-01-03</small>
          <p>Turned out that accessing a FlashCard from a VirtualBox Debian running on OS X Lion is not so straight forward as first anticipated. Well, a little googling found the answers needed and here&#8217;s a setup that worked for me:</p>

<p>Plug in the card reader (or any USB device) to your computer and let Finder mount it.</p>

<p>In VirtualBox select <code>Settings -> Ports -> USB</code>. That should you present with a dialog where you can add and edit Filters. <a href='http://zentralmaschine.net/wp-content/uploads/2012/01/Screen-Shot-2012-01-03-at-8.27.51-PM1.png'><img alt='Settings &#8594;v Ports &#8594; USB' class='size-full wp-image-23' height='630' src='http://zentralmaschine.net/wp-content/uploads/2012/01/Screen-Shot-2012-01-03-at-8.27.51-PM1.png' title='Settings &#8594;v Ports &#8594; USB' width='766' /></a></p>

<p>Click the green plus sign and in the then opening dialog delete everything except <em>Name</em>, <em>Vendor ID</em> and <em>Product ID</em>.</p>
<a href='http://zentralmaschine.net/wp-content/uploads/2012/01/Screen-Shot-2012-01-03-at-8.49.11-PM.png'><img alt='Your Vendor and Product ID will probably differ' class='size-full wp-image-25' height='464' src='http://zentralmaschine.net/wp-content/uploads/2012/01/Screen-Shot-2012-01-03-at-8.49.11-PM.png' title='Your Vendor and Product ID will probably differ' width='355' /></a>
<p>Now start your VirtualBox Debian and check <code>dmesg</code>. The reader should have been recognised as <code>/dev/sda</code>.</p>
        </section>
      </article>
    
      <article>
        <section>
          <h1><a href="/2011/12/30/installing-wordpress-on-nginx-via-php-fpm.html">Installing Wordpress on NGINX via php-fpm</a></h1>
          <small>2011-12-30</small>
          <p>This is a short tutorial on how to install php-fpm on debian squeeze and how to configure nginx so it will serve a wordpress installation.</p>

<p>Install php-fpm by adding a new apt source: <pre>
sudo echo "deb http://packages.dotdeb.org stable all" &gt;&gt; /etc/apt/sources.list
apt-get update
</pre></p>

<p>Apt will probably complain about a missing key for the just added repository. This can be fixed by adding the key to apts keyring. Please make sure that you get the right key and compare the fingerprints.</p>
<pre>gpg --export &lt;PUBLIC_KEY&gt; | apt-key add -</pre>
<p>Now install php-fpm</p>
<pre>apt-get update
apt-get install php5-fpm php5-suhosin php5-mysql</pre>
<p>By default php-fpm listens on http://127.0.0.1:9000. Since we are on a unix system, we like to make use of sockets. Open fpm pool configuration and search for the <em>listen</em> directive. Then adapt it to your needs. <pre># /etc/php5/fpm/pool.d/www.conf
listen = /tmp/php-fpm.sock</pre></p>

<p>Add an upstream server for php to nginx.conf so it is available for all configurations:</p>
<pre>
# /etc/nginx/nginx.conf
# Upstream to abstract backend connection(s) for PHP.
upstream php {
    server unix:/tmp/php-fpm.sock
    # or whatever you configured php-fpm to listen to
}
</pre>
<p>Add these global configurations for nginx to <code>/etc/nginx/global</code> <script src='https://gist.github.com/1534643.js'> </script></p>

<p>Download wordpress and unpack</p>
<pre>
cd /var/www/mydomain
wget http://wordpress.org/latest.tar.gz
tar xzf latest.tar.gz
</pre>
<p>All that is needed now is the nginx configuration</p>
<pre>
server {
        listen       80;
        server_name  mydomain.com;

        access_log /var/log/nginx/mydomain.access_log;
        error_log /var/log/nginx/mydomain.error_log;

        index              index.php index.html index.htm;

        root         /var/www/mydomain/wordpress;

        include global/restrictions.conf;
        include global/wordpress-ms-subdir.conf;
}
</pre>
        </section>
      </article>
    
  </section>
</article>
    </div>
    
  </div>

  <footer class="content">
    <p>I am Niels Hoffmann, software developer by profession and co-founder of pipapo.co where we build things like <a href="https://blabber.io">Blabber</a> and <a href="http://fandangocast.com">Fandango</a>. I am based in Berlin, Germany. Sometimes I write down my findings and insights on this blog. The rest of the time I am busy creating stuff with computers, mostly on the web.</p>

    <p>You can contact me via Xing, LinkedIn or on Twitter.</p>
  </footer>
 

</body>
</html>